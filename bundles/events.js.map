{"version":3,"sources":["events.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","appInfo","track","forceDockKey","updatePopup","chrome","storage","local","get","res","forceDockVal","browserAction","setPopup","popup","onChanged","addListener","changes","areaName","runtime","onInstalled","details","storageKey","curVersion","version","prevVersion","previousVersion","event","obj","set","onUpdateAvailable","reload","curWinInfo","openDockedAppOfWindow","win","APP_WIN_WIDTH","APP_WIN_RIGHT_MARGIN","APP_MIN_WIN_HEIGHT","url","extension","getURL","tabs","query","windows","remove","windowId","id","specificUrl","original","width","left","state","current","rightSpacing","screen","availWidth","newLeft","Math","max","newWidth","update","create","type","height","top","focused","createdWindow","onWindowRemoved","removedId","onRemoved","removeListener","populate","pWin","openDocked","getAll","matched","len","onMessage","request","sender","sendResponse","cmd","commands","onCommand","command","utils/appInfo","utils/log","utils/track","2","browserName","manifest","getManifest","browserVersion","exec","navigator","userAgent","name","productId","toJSON","key","value","json","hasOwnProperty","3","noLog","log","info","error","4","initGa","window","ga","g","m","q","push","arguments","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","document","trackEvent","category","action","label","apply","filter","Boolean","join","eventCategory","eventAction","eventLabel","eventValue","er","err"],"mappings":"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","file":"events.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\r\n\r\nvar log = require('utils/log');\r\nvar appInfo = require('utils/appInfo');\r\nvar track = require('utils/track');\r\n// var userSettings = require('utils/userSettings');\r\n// var RuntimeController = require('utils/runtimeController');\r\n\r\nvar forceDockKey = 'alwaysOpenDocked';\r\nvar updatePopup = function () {\r\n  chrome.storage.local.get(forceDockKey, function (res) {\r\n    var forceDockVal = res ? !!(res[forceDockKey]) : false;\r\n    chrome.browserAction.setPopup({\r\n      popup: '/pages/' + (forceDockVal ? 'openDocked.html' : 'popup.html')\r\n    });\r\n  });\r\n};\r\nchrome.storage.onChanged.addListener(function (changes, areaName) {\r\n  if (areaName === 'local') {\r\n    if (changes[forceDockKey]) {\r\n      updatePopup();\r\n    }\r\n  }\r\n  // log(changes, areaName);\r\n});\r\nupdatePopup();\r\n\r\nvar insertTrackingParams = function (url) {\r\n  var re = new RegExp('https?:\\/\\/([^\\/]*.)?' + env.hostname + '(.*)', 'i');\r\n  if (re.test(url)) {\r\n    var utm = \"utm_medium=addon&utm_source=\" + appInfo.browserName + \"&utm_campaign=\" + appInfo.productId + \"&utm_content=\" + appInfo.browserVersion;\r\n    url = ~url.indexOf(\"?\") ?\r\n      url.replace(\"?\", \"?\" + utm + \"&\") :\r\n      ( ~url.indexOf(\"#\") ?\r\n          url.replace(\"#\", \"?\" + utm + \"#\") :\r\n        url + \"?\" + utm\r\n      );\r\n  }\r\n  return url;\r\n};\r\n\r\nvar openTab = function (params) {\r\n  chrome.tabs.create({url: insertTrackingParams(params.url)});\r\n};\r\nvar openWindow = function (params) {\r\n  //params.url\r\n  _.defaults(params, {\r\n    focused: true,\r\n    type: \"popup\"\r\n  });\r\n  params.url = insertTrackingParams(params.url);\r\n  chrome.windows.create(params);\r\n};\r\n\r\n//chrome.runtime.onStartup.addListener(function () {\r\n//});\r\n\r\n\r\nchrome.runtime.onInstalled.addListener(function (details) {\r\n  details = details || {};\r\n  var storage = chrome.storage.local;\r\n  var storageKey = 'installedVersion';\r\n  storage.get(storageKey, function (res) {\r\n    var curVersion = appInfo.version;\r\n    var prevVersion = res[storageKey] || details.previousVersion;\r\n    if (!prevVersion) {\r\n      track.event('general', 'install', curVersion);\r\n    } else if (curVersion !== prevVersion) {\r\n      track.event('general', 'update', curVersion);\r\n    } else {\r\n      // reenabled\r\n      track.event('general', 'reenable', curVersion);\r\n    }\r\n    var obj = {};\r\n    obj[storageKey] = curVersion;\r\n    storage.set(obj);\r\n  });\r\n});\r\n\r\nchrome.runtime.onUpdateAvailable.addListener(function () {\r\n  chrome.runtime.reload();\r\n});\r\n\r\n\r\nvar curWinInfo;\r\n\r\nvar openDockedAppOfWindow = function (win) {\r\n  var APP_WIN_WIDTH = 300,\r\n    APP_WIN_RIGHT_MARGIN = 0,\r\n    APP_MIN_WIN_HEIGHT = 400;\r\n\r\n  var url = chrome.extension.getURL('/pages/popup.html');\r\n  // chrome.browserAction.getPopup({}, function (url) {\r\n  chrome.tabs.query({url: url}, function (tabs) {\r\n\r\n    if (tabs.length) {\r\n      return chrome.windows.remove(tabs[0].windowId, function () { });\r\n    }\r\n\r\n    if (curWinInfo && curWinInfo.id === win.id) {\r\n      return;\r\n    }\r\n\r\n    var specificUrl = url + '#win/' + win.id;\r\n\r\n    curWinInfo = {\r\n      id: win.id,\r\n      original: {width: win.width, left: win.left, state: win.state},\r\n      current: {width: win.width, left: win.left, state: 'normal'}\r\n    };\r\n\r\n    var rightSpacing = (screen.availWidth - (win.left + win.width + APP_WIN_WIDTH + APP_WIN_RIGHT_MARGIN));\r\n\r\n    if (rightSpacing < 0) {\r\n      var newLeft = Math.max(win.left + rightSpacing, 0);\r\n      rightSpacing += (win.left - newLeft);\r\n      var newWidth = win.width + rightSpacing;\r\n\r\n      curWinInfo.current.width = newWidth;\r\n      curWinInfo.current.left = newLeft;\r\n\r\n      chrome.windows.update(win.id, {\r\n        width: newWidth,\r\n        left: newLeft\r\n      }, function () {\r\n      });\r\n    }\r\n\r\n    chrome.windows.create({\r\n        \"url\": specificUrl,\r\n        \"type\": 'popup',\r\n        \"width\": APP_WIN_WIDTH,\r\n        \"height\": Math.max(APP_MIN_WIN_HEIGHT, win.height),\r\n        top: win.top,\r\n        left: curWinInfo.current.left + curWinInfo.current.width,\r\n        \"focused\": true\r\n      },\r\n      function (createdWindow) {\r\n\r\n        var onWindowRemoved = function (removedId) {\r\n          //alert('onWindowRemoved');\r\n          //debugger;\r\n\r\n          if (!curWinInfo) {\r\n            return;\r\n          }\r\n          //alert(removedId);\r\n          if (removedId === curWinInfo.id) {\r\n\r\n            chrome.windows.remove(createdWindow.id, function () { });\r\n            chrome.windows.onRemoved.removeListener(onWindowRemoved);\r\n\r\n          } else if (createdWindow && removedId === createdWindow.id) {\r\n\r\n\r\n            chrome.windows.get(curWinInfo.id, {populate: false}, function (pWin) {\r\n\r\n              if (pWin && pWin.left === curWinInfo.current.left && pWin.width === curWinInfo.current.width && pWin.state === curWinInfo.current.state) {\r\n\r\n                // revert win size and state\r\n\r\n                if (curWinInfo.original.state === 'normal') {\r\n\r\n                  chrome.windows.update(curWinInfo.id, {\r\n                    width: curWinInfo.original.width,\r\n                    left: curWinInfo.original.left,\r\n                    state: 'normal'\r\n                  }, function () {\r\n                    curWinInfo = null;\r\n                  });\r\n\r\n                } else {\r\n\r\n                  chrome.windows.update(curWinInfo.id, {\r\n                    state: curWinInfo.original.state\r\n                  }, function () {\r\n                    curWinInfo = null;\r\n                  });\r\n\r\n                }\r\n\r\n              }\r\n\r\n            });\r\n\r\n\r\n            chrome.windows.onRemoved.removeListener(onWindowRemoved);\r\n          }\r\n        };\r\n        chrome.windows.onRemoved.addListener(onWindowRemoved);\r\n\r\n      }\r\n    );\r\n\r\n  });\r\n\r\n\r\n  // });\r\n\r\n};\r\n\r\nvar openDocked = function (windowId) {\r\n  if (windowId) {\r\n    chrome.windows.get(windowId, {populate: false}, function (win) {\r\n      openDockedAppOfWindow(win);\r\n    });\r\n  } else {\r\n    chrome.windows.getAll({populate: false}, function (windows) {\r\n      // log(windows);\r\n      var i,\r\n        matched,\r\n        len = windows.length,\r\n        win;\r\n      if (len) {\r\n        for (i = 0; i < len; i++) {\r\n          win = windows[i];\r\n          if (win.focused && (win.state !== \"popup\")) {\r\n            matched = win;\r\n            openDockedAppOfWindow(win);\r\n            break;\r\n          }\r\n        }\r\n        if (!matched) {\r\n          for (i = 0; i < len; i++) {\r\n            win = windows[i];\r\n            if (win.state !== \"popup\") {\r\n              matched = win;\r\n              openDockedAppOfWindow(win);\r\n              break;\r\n            }\r\n          }\r\n          // log('window not found', matched);\r\n        }\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\n\r\nchrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\r\n  if (request.cmd === \"openDocked\") {\r\n    openDocked(request.windowId);\r\n    sendResponse();\r\n  }\r\n});\r\n\r\nchrome.commands.onCommand.addListener(function (command) {\r\n  if (command === 'toggleMainView') {\r\n    openDocked();\r\n  }\r\n});\r\n\r\n\r\n\n},{\"utils/appInfo\":2,\"utils/log\":3,\"utils/track\":4}],2:[function(require,module,exports){\n'use strict';\r\n\r\nvar browserName = 'Chrome',\r\n  manifest = chrome.runtime.getManifest(),\r\n  browserVersion = /Chrome\\/([0-9.]+)/.exec(navigator.userAgent)[1];\r\n\r\nvar appInfo = {\r\n  id: \"hgmnkflcjcohihpdcniifjbafcdelhlm\",\r\n  name: manifest.name,\r\n  productId: \"tabman\",\r\n  version: manifest.version,\r\n  browserVersion: browserVersion,\r\n  browserName: browserName,\r\n  getManifest: function () {\r\n    return manifest;\r\n  },\r\n  toJSON: function () {\r\n    var json = {},\r\n      key,\r\n      value;\r\n    for (key in appInfo) {\r\n      if (appInfo.hasOwnProperty(key)) {\r\n        value = appInfo[key];\r\n        if (typeof value === 'string' || typeof value === 'number') {\r\n          json[key] = value;\r\n        }\r\n      }\r\n    }\r\n    return json;\r\n  }\r\n};\r\n\r\nmodule.exports = appInfo;\r\n\n},{}],3:[function(require,module,exports){\nvar noLog = function () {};\r\n\r\nvar log = false ? function (a, b, c, d, e, f) {\r\n  if (arguments.length === 1) {\r\n    console.log(a);\r\n  } else if (arguments.length === 2) {\r\n    console.log(a, b);\r\n  } else if (arguments.length === 3) {\r\n    console.log(a, b, c);\r\n  } else if (arguments.length === 4) {\r\n    console.log(a, b, c, d);\r\n  } else if (arguments.length === 5) {\r\n    console.log(a, b, c, d, e);\r\n  } else if (arguments.length === 6) {\r\n    console.log(a, b, c, d, e, f);\r\n  } else {\r\n    console.log(Array.prototype.slice.call(arguments));\r\n  }\r\n} : noLog;\r\n\r\nlog.info = false ? function (a, b, c, d, e, f) {\r\n  if (arguments.length === 1) {\r\n    console.info(a);\r\n  } else if (arguments.length === 2) {\r\n    console.info(a, b);\r\n  } else if (arguments.length === 3) {\r\n    console.info(a, b, c);\r\n  } else if (arguments.length === 4) {\r\n    console.info(a, b, c, d);\r\n  } else if (arguments.length === 5) {\r\n    console.info(a, b, c, d, e);\r\n  } else if (arguments.length === 6) {\r\n    console.info(a, b, c, d, e, f);\r\n  } else {\r\n    console.info(Array.prototype.slice.call(arguments));\r\n  }\r\n} : noLog;\r\n\r\nlog.error = false ? function (a, b, c, d, e, f) {\r\n  if (arguments.length === 1) {\r\n    console.error(a);\r\n  } else if (arguments.length === 2) {\r\n    console.error(a, b);\r\n  } else if (arguments.length === 3) {\r\n    console.error(a, b, c);\r\n  } else if (arguments.length === 4) {\r\n    console.error(a, b, c, d);\r\n  } else if (arguments.length === 5) {\r\n    console.error(a, b, c, d, e);\r\n  } else if (arguments.length === 6) {\r\n    console.error(a, b, c, d, e, f);\r\n  } else {\r\n    console.error(Array.prototype.slice.call(arguments));\r\n  }\r\n} : noLog;\r\n\r\nmodule.exports = log;\r\n\n},{}],4:[function(require,module,exports){\n'use strict';\r\n\r\nvar log = require('utils/log');\r\nvar appInfo = require('utils/appInfo');\r\n\r\nvar initGa = function () {\r\n  if (window.ga) {\r\n    return;\r\n  }\r\n  (function (i, s, o, g, r, a, m) {\r\n    i['GoogleAnalyticsObject'] = r;\r\n    i[r] = i[r] || function () {\r\n        (i[r].q = i[r].q || []).push(arguments)\r\n      }, i[r].l = 1 * new Date();\r\n    a = s.createElement(o),\r\n      m = s.getElementsByTagName(o)[0];\r\n    a.async = 1;\r\n    a.src = g;\r\n    m.parentNode.insertBefore(a, m)\r\n  })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');\r\n\r\n  window.ga('create', 'UA-11361452-2', 'auto');\r\n  window.ga('set', 'checkProtocolTask', null); // Disable file protocol checking.\r\n  window.ga('set', 'appName', appInfo.productId);\r\n  window.ga('set', 'appId', appInfo.id);\r\n  window.ga('set', 'appVersion', appInfo.version);\r\n};\r\n\r\nvar trackEvent = function (category, action, label, value) {\r\n  try {\r\n    initGa();\r\n    log.info.apply(log.info, ['trackEvent', category, action, label, value].filter(Boolean));\r\n    window.ga('send', 'pageview', '/' + appInfo.productId + '/' + [category, action, label, value].filter(Boolean).join('/'));\r\n    window.ga('send', 'event', {\r\n      'eventCategory': category,\r\n      'eventAction': action,\r\n      'eventLabel': label,\r\n      'eventValue': value\r\n    });\r\n  } catch (er) {\r\n    log.error('trackEvent Error', err);\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  event: trackEvent\r\n};\r\n\n},{\"utils/appInfo\":2,\"utils/log\":3}]},{},[1]);\n"],"sourceRoot":"/source/"}